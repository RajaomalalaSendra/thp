<!DOCTYPE html>
<html class="loading" lang="fr">
  <head>
    <meta charset="utf-8">
    <link rel="stylesheet" type="text/css" href="/thp/style/bootstrap.css">
    <title>The hacking project offline</title>
  </head>
  <body class="vertical-layout vertical-menu 2-columns  menu-expanded fixed-navbar" data-open="click" data-menu="vertical-menu" data-color="bg-gradient-x-primary-blue" data-col="2-columns">
      <nav class="navbar navbar-expand-lg navbar-dark bg-primary">
        <h1 class="navbar-brand">THE HACKING PROJECT</h1>
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarColor01" aria-controls="navbarColor01" aria-expanded="false" aria-label="Toggle navigation">
          <span class="navbar-toggler-icon"></span>
        </button>

        <div class="collapse navbar-collapse" id="navbarColor01">
          <ul class="navbar-nav mr-auto">
            <li class="nav-item active">
              <a class="nav-link" href="/thp">Home</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="/thp/features">Features</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="/thp/about">About</a>
            </li>
          </ul>
          <form class="form-inline my-2 my-lg-0">
            <input class="form-control mr-sm-2" type="text" placeholder="Search">
            <button class="btn btn-secondary my-2 my-sm-0" type="submit">Search</button>
          </form>
        </div>
      </nav>

<div class="container">
    <a type="button" class="btn btn-dark " href="/thp/semaine_1/">Semaine 1</a>
    <a type="button" class="btn btn-dark" href="/thp/semaine_2/">Semaine 2</a>
    <a type="button" class="btn btn-dark" href="/thp/semaine_3/">Semaine 3</a>
    <a type="button" class="btn btn-dark" href="/thp/semaine_4/">Semaine 4</a>
    <a type="button" class="btn btn-dark btn-lg" href="/thp/semaine_5/">Semaine 5</a>  
</div>

<div class="app-content content">
  <div class="content-wrapper">
    <div class="content-wrapper-before"></div>
    <div class="content-header row"></div>
    
      <div class="container">
    <div class="card">
  <div class="card-header">
    <h4 class="text-center"> Programme jour par jour</h4>
  </div>
  <div class="card-body">
    <div class="text-center">
    <a href="/thp/semaine_5">
      <button class="btn btn-secondary btn-outline-dark btn mr-4">
        <i class="fa fa-terminal"></i>&nbsp;&nbsp;&nbsp;Lun
      </button>
</a>    <a href="/thp/semaine_5/jour_2">
      <button class="btn btn-secondary btn-outline-dark btn mr-4">
        <i class="fa fa-code"></i>&nbsp;&nbsp;&nbsp;Mar
      </button>
</a>    <a href="/thp/semaine_5/jour_3">
      <button class="btn btn-secondary btn-outline-dark btn-lg mr-4">
        <i class="fa fa-desktop"></i>&nbsp;&nbsp;&nbsp;Mer
      </button>
</a>    <a href="/thp/semaine_5/jour_4">
      <button class="btn btn-secondary btn-outline-dark btn mr-4">
      <i class="fa fa-folder-open"></i>&nbsp;&nbsp;&nbsp;Jeu
      </button>
</a>    <a href="/thp/semaine_5/jour_5">
      <button class="btn btn-secondary btn-outline-dark btn mr-4">
      <i class="fa fa-bullhorn"></i>&nbsp;&nbsp;&nbsp;Ven
      </button>
</a>    </div>
  </div>
</div>


<div class="app-content content">
  <div class="content-wrapper">
    <div class="content-wrapper-before"></div>
    <div class="content-header row"></div>
    
      
<div class="content-body">
      <h2 class="text-center">CRUD</h2>
      <h4 class="text-center">Rails interm√©diaire</h4>
  <div class="row">
     <div class="col-xl-3 col-lg-6 col-md-12">
  <div class="card">
    <div class="card-content">
      <div class="card-body">
        <div class="media d-flex">
          <div class="align-self-top">
              <i class="ft-calendar icon-opacity info font-large-4"></i>
          </div>
          <div class="media-body text-right align-self-bottom mt-3">
              <span class="d-block mb-1 font-medium-1"></span>
              <h3 class="info mb-0">
                 Jour 24 / 55</h3>
          </div>
        </div>
        <div class="progress progress-sm mt-1 mb-0 box-shadow-2">
            <div class="progress-bar bg-gradient-x-info" role="progressbar" style="width: 43%" aria-valuenow="25" aria-valuemin="0" aria-valuemax="120">
            </div>
        </div>
      </div>
    </div>
  </div>
 </div>


    <div class="col-xl-3 col-lg-6 col-md-12">
  <div class="card">
    <div class="card-content">
      <div class="card-body">
        <div class="media d-flex">
          <div class="align-self-top">
            <i class="ft-heart icon-opacity danger font-large-4"></i>
          </div>
          <div class="media-body text-right align-self-bottom mt-3">
            <span class="d-block mb-1 font-medium-1">Jokers restant</span>
            <h3 class="danger mb-0">
                3
            </h3>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

    <div class="col-xl-3 col-lg-6 col-md-12">
    <div class="card">
        <div class="card-content">
            <div class="card-body">
                <div class="media d-flex">
                    <div class="align-self-top">
                        <a href="/dashboard/assignments?locale=fr">
                           <i class="ft-fast-forward icon-opacity warning font-large-4"></i>
</a>                    </div>
                    <div class="media-body text-right align-self-bottom mt-3">
                        <span class="d-block mb-1 font-medium-1">Missions</span>
                            <div class="badge border-danger danger badge-border">Pas inscrit</div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

  </div>
  <div class="row">
        <div class="container">
    <div class="col-xl-12 col-lg-12 col-md-12">
    <div class="card">
        <div class="card-header">
        <h1 >Rails interm√©diaire
                <i class="fa fa-beer text-warning"></i>
        </h1>
        
        </div>
        <div class="card-content">
        <div class="card-body">
            <div class="card-text">
            <h2 class="text-center">CRUD</h2>
            <div class="cd-horizontal-timeline loaded">
                <div class="timeline">
                <div class="events-wrapper">
                    <div class="events" style="width: 1800px;">
                    <ol>
                                <li>
                                    <a style="left:120px;" href="/dashboard/weeks/5/days/1?locale=fr">
                                        Lun
                                            <i class="fa fa-rocket text-danger" aria-hidden="true" data-toggle="tooltip" data-placement="bottom" title="Projet √† rendre ce jour-l√†"></i>

</a>                                </li>
                                <li>
                                    <a style="left:240px;" href="/dashboard/weeks/5/days/2?locale=fr">
                                        Mar
                                            <i class="fa fa-pencil text-success" aria-hidden="true" data-toggle="tooltip" data-placement="bottom" title="Corrections cette journ√©e l√†" ></i>


</a>                                </li>
                            <li>
                                <a class="selected" style="left:360px;" data-toggle="tooltip" data-placement="top" title="CRUD" href="/dashboard/weeks/5/days/3?locale=fr">
                                    Mer
                                        <i class="fa fa-beer text-warning" aria-hidden="true" data-toggle="tooltip" data-placement="bottom" title="Rendez-vous pour boire un coup"></i>

</a>                                </li>
                                <li>
                                    <a style="left:480px;" href="/dashboard/weeks/5/days/4?locale=fr">
                                        Jeu
                                            <i class="fa fa-rocket text-danger" aria-hidden="true" data-toggle="tooltip" data-placement="bottom" title="Projet √† rendre ce jour-l√†"></i>

</a>                                </li>
                                <li>
                                    <a style="left:600px;" href="/dashboard/weeks/5/days/5?locale=fr">
                                        Ven
                                            <i class="fa fa-pencil text-success" aria-hidden="true" data-toggle="tooltip" data-placement="bottom" title="Corrections cette journ√©e l√†" ></i>


</a>                                </li>
                    </ol>
                </div>
                </div>
            </div>
            </div>
        </div>
        </div>
    </div>
    </div>
<div>
  </div>

  <!-- Les fameuses corrections qui n'arrivnet que les jours concern√©s -->


    <div class="container">
  <div class="row">
    <div class="col-12">
      <div class="card">
        <div class="card-header" style="border-top: 3px solid #5E66E5 " >
          <h1>Cours : Impl√©menter un CRUD complet en Rails</h1>
          <a class="heading-elements-toggle">
          <i class="la la-ellipsis-v font-medium-3"></i>
          </a>
          <div class="heading-elements">
            <ul class="list-inline mb-0">
              <li><a data-action="collapse"><i class="ft-minus"></i></a></li>
              <li><a data-action="expand"><i class="ft-maximize"></i></a></li>
            </ul>
          </div> 
      </div>
      <div class="card-content collapse show">
        <div class="card-body">
          <div class="tab-pane active" id="home1" role="tabpanel">
          <h2>1. Introduction</h2>
<p>Le CRUD, une partie fondamentale de Rails. Apr√®s t'√™tre battu avec tes premiers controllers, nous allons voir comment cr√©er un CRUD complet.</p>

<h2>2. Historique</h2>
<p>Le terme CRUD fut s√ªrement popularis√© par James Martin dans son livre sorti en 1983 : <i>Managing the Data-base Environment</i>.</p>

<h2>3. La ressource</h2>
<p>Pour le CRUD, deux ressources vont t'aider √©norm√©ment √† comprendre et assimiler comment cr√©er des √©l√©ments :</p>

<ul>
	<li>Voici <a href="https://www.grafikart.fr/formations/ruby-on-rails/crud" target="_blank">une vid√©o de Grafikart</a> sur le CRUD</li>
	<li>Le <a href="http://guides.rubyonrails.org/getting_started.html" target="_blank">tutoriel de base des Rails Guides</a> est aussi une tr√®s bonne ressource</li>
</ul>

<p>ALERTE MISSION : nous recherchons des gens pour retranscrire la vid√©o de Grafikart. Int√©ress√© ? Viens-donc nous en parler !</p>

<h2>4. Points importants √† retenir</h2>
<p>La <a href="https://www.grafikart.fr/formations/ruby-on-rails/crud" target="_blank">vid√©o de Grafikart</a> est g√©niale, car tu as pile poile le niveau pour tout comprendre üòª</p>

<h2>5. Pour aller plus loin</h2>
<p>Pour le moment, c'est tout !</p>
          </div>
        </div>
        </div>
      </div>
    </div>
  </div>
</div>

  <div class="container">
  <div class="row">
    <div class="col-12">
      <div class="card">
        <div class="card-header" style="border-top: 3px solid #5E66E5 " >
          <h1>Cours : CSS de Base sur rails</h1>
          <a class="heading-elements-toggle">
          <i class="la la-ellipsis-v font-medium-3"></i>
          </a>
          <div class="heading-elements">
            <ul class="list-inline mb-0">
              <li><a data-action="collapse"><i class="ft-minus"></i></a></li>
              <li><a data-action="expand"><i class="ft-maximize"></i></a></li>
            </ul>
          </div> 
      </div>
      <div class="card-content collapse show">
        <div class="card-body">
          <div class="tab-pane active" id="home1" role="tabpanel">
          <p>Voici quelques ressources pour ajouter du CSS basique √† une application Rails :</p>
<ul style="font-weight: 300; font-size: 1.2em;">
	<li>Une <a href="https://www.youtube.com/watch?v=4HUh9noewvg"  target="_blank" class="text-primary">vid√©o</a> qui explique les concepts de base en Rails et CSS</li>
</ul>
          </div>
        </div>
        </div>
      </div>
    </div>
  </div>
</div>

  <div class="container">
  <div class="row">
    <div class="col-12">
      <div class="card">
        <div class="card-header" style="border-top: 3px solid #5E66E5 " >
          <h1>Cours : Tests de controllers</h1>
          <a class="heading-elements-toggle">
          <i class="la la-ellipsis-v font-medium-3"></i>
          </a>
          <div class="heading-elements">
            <ul class="list-inline mb-0">
              <li><a data-action="collapse"><i class="ft-minus"></i></a></li>
              <li><a data-action="expand"><i class="ft-maximize"></i></a></li>
            </ul>
          </div> 
      </div>
      <div class="card-content collapse show">
        <div class="card-body">
          <div class="tab-pane active" id="home1" role="tabpanel">
          <h2>1. Introduction</h2>
<p>Apr√®s avoir vu les tests de model et les tests de view, nous allons voir les tests de controllers. Les tests de controllers permettent de v√©rifier que tes controllers font bien leur taf, c'est √† dire qu'ils redirigent vers les bons endroits, appellent les bons models.</p>

<h2>2. Historique</h2>
<p>Comme d'habitude, les tests sont indispensables quand on fait du Rails. Les controllers font partie des √©l√©ments importants √† tester.</p>

<h2>3. La ressource</h2>
<h3>3.1. Conventions d'un controller, et ses tests</h3>
<h4>3.1.1. Conventions</h4>
<p>Rails est un langage fortement marqu√© par ses conventions. L'avantage de ceci est que les controllers ressemblent √† 99% du temps √† ceci :</p>

<pre><code class="language-ruby">class ModelsController < ApplicationController

  def index
    @models = Model.all
  end

  def show
    @model = Model.find(params[:id])
  end

  def new
    @model = Model.new
  end

  def edit
    @model = Model.find(params[:id])
  end

  def create
    @model = Model.new(model_params)
    if @model.save
      redirect_to @model
    else
      render :new
    end
  end

  def update
    @model = Model.find(params[:id])
    if @model.update(model_params)
      redirect_to @model
    else
      render :edit
    end
  end

  def destroy
    @model = Model.find(params[:id])
    @model.destroy
    redirect_to models_path
  end

end</code></pre>

<p>On demande rarement plus √† un controller. Ce qui veut dire que les tests de controller sont souvent assez similaires, et faciles √† √©crire. Oh yeah ! Et bien nous allons voir chaque m√©thode, puis te dire ce que nous allons tester. La bonne astuce est que cette approche te donnera une approche "c'est toi le chef" des controllers, puisque pour chaque m√©thode nous allons casser et voir ce que nous attendons d'elle.</p>

<h4>3.1.2. Dossier de test</h4>
<p>Si tu suis la logique des tests, tu auras compris que les controllers de tests s'√©crivent dans le fichier <code>spec/controllers/ton_controller_spec.rb</code> et auront le format suivant :</p>

<pre><code class="language-ruby">require 'rails_helper'

RSpec.describe TonModelsController, type: :controller do

  describe "GET #index" do
    # des tests
  end

  describe "GET #show" do
    # des tests
  end

  describe "GET #new" do
    # des tests
  end

  describe "GET #edit" do
    # des tests
  end

  describe "POST #create" do
    # des tests
  end

  describe "PUT #update" do
    # des tests
  end

  describe "DELETE #destroy" do
    # des tests
  end

end</code></pre>

<p>Puis en fonction des m√©thodes que tu utilises, tu fais tes tests.</p>

<h3>3.2. Tests d'un controller</h3>
<p>En g√©n√©ral, tu veux tester trois choses dans une m√©thode de controller :</p>

<ul>
  <li>Que la variable d'instance soit la bonne (<code>@users</code> renvoie bien les utilisateurs)</li>
  <li>Que la bonne view soit affich√©e (<code>users#index</code> renvoie bien √† <code>users/index.html.erb</code>)</li>
  <li>Que le controller fasse bien ce qu'il est sens√© faire (d√©truire un utilisateur, cr√©er un utilisateur, mettre √† jour un utilisateur)</li>
</ul>


<h4>3.2.1. <code>#index</code></h4>
<p>La m√©thode <code>index</code> d'un controller va g√©n√©ralement chercher toutes les instances d'un model pr√©cis, donc il n'est pas vraiment indispensable de tester que <code>Model.all</code> marche. Des fois tu voudras r√©cup√©rer pas <i>toutes</i> les instances, mais uniquement les instance repondant √† un crit√®re pr√©cis (les commentaires d'un article, les potins affich√©s dans l'ordre, etc) et il faudra v√©rifier que tu ne merdes pas.</p>

<p>Voici un exemple de test de m√©thode index :</p>

<pre><code class="language-ruby">describe "GET index" do
  it "assigns @users" do
    # cr√©ation d'une instance
    user = User.create

    # on va sur index
    get :index

    # @users doit √™tre une array qui contient user
    expect(assigns(:users)).to eq([user])
  end

  it "renders the index template" do
    # va sur index
    get :index

    # on doit rediriger vers index
    expect(response).to render_template("index")
  end
end</code></pre>

<h4>3.2.2. <code>#show</code></h4>
<p>Pour show, c'est comme pour index !</p>

<pre><code class="language-ruby">describe "GET show" do
  it "assigns @users" do
    # cr√©ation d'une instance
    user = User.create

    # on va sur show
    get :show, id: user.id

    # @user doit √™tre user
    expect(assigns(:user)).to eq(user)
  end

  it "renders the show template" do
    # va sur show
    get :show

    # on doit rediriger vers show
    expect(response).to render_template("show")
  end
end</code></pre>


<h4>3.2.3. <code>#new</code></h4>
<p>Pour new, on va v√©rifier que cela affiche bien la vue :</p>


<pre><code class="language-ruby">describe "GET new" do
  it "renders the new template" do
    # va sur new
    get :new

    # on doit rediriger vers new
    expect(response).to render_template("new")
  end
end</code></pre>


<h4>3.2.4. <code>#edit</code></h4>
<p>Edit est un peu comme show :</p>

<pre><code class="language-ruby">describe "GET edit" do
  it "assigns @users" do
    # cr√©ation d'une instance
    user = User.create

    # on va sur edit
    get :edit, id: user.id

    # @user doit √™tre user
    expect(assigns(:user)).to eq(user)
  end

  it "renders the edit template" do
    # va sur edit
    get :edit

    # on doit rediriger vers edit
    expect(response).to render_template("edit")
  end
end</code></pre>


<h4>3.2.5. <code>#create</code></h4>
<p>Create est un peu particlui√®re, puisqu'il faut r√©√©crire params √† la main. Pour ceci, soit tu le mentionnes en faisant :</p>

<pre><code class="language-ruby">post :create, params: { email: "email@email.com", password: "azerty" }</code></pre>

<p>Soit tu le fais avec FactoryBot :</p>

<pre><code class="language-ruby">post :create, user: Factory.attributes_for(:user)</code></pre>

<p>Puis tu v√©rifies que la ressource a bien √©t√© cr√©√©e et que tu es bien redirig√© :</p>

<pre><code class="language-ruby">describe "POST create" do
  context "with valid attributes" do
    it "creates a new user" do
      expect { 
        post :create, params: { "user" => { email: Faker::Internet.email, password: Faker::Internet.password } }
      }.to change(User,:count).by(1)
    end
    
    it "redirects to the new user" do
      post :create, params: { "user" => { email: Faker::Internet.email, password: Faker::Internet.password } }

      # en g√©n√©ral tu rediriges vers le show de ce que tu viens de cr√©er
      response.should redirect_to User.last
    end
  end
  
  context "with invalid attributes" do
    it "doest not create a new user" do
      expect { 
        post :create, params: { "user" => { invalide_magueule } }
      }.to_not change(User, :count)
    end
    
    it "re-renders the new method" do
      post :create, params: { "user" => { invalide_magueule } }
      response.should render_template :new
    end
  end
end</code></pre>

<h4>3.2.6. <code>#update</code></h4>
<p>Update ressemblera beaucoup √† create :</p>

<pre><code class="language-ruby">describe "PUT update" do
  before :each do
    @user = User.create(email: Faker::Internet.email, password: Faker::Internet.password )
  end


  context "with valid attributes" do
    it "located the requested @user" do
      put :update, id: @user, params: { "user" => { email: Faker::Internet.email, password: Faker::Internet.password } }
      assigns(:user).should eq(@user)      
    end
  
    it "changes @user's attributes" do
      email = Faker::Internet.email
      password = Faker::Internet.password
      put :update, id: @user, params: { "user" => { email: email, password: password } }
      @user.reload
      @user.firstname.should eq(email)
      @user.lastname.should eq(password)
    end
  
    it "redirects to the updated contact" do
      put :update, id: @user, params: { "user" => { email: Faker::Internet.email, password: Faker::Internet.password } }

      # redirige o√π tu veux
      response.should redirect_to @user
    end
  end
  
  context "with invalid attributes" do
    it "locates the requested @user" do
      put :update, id: @user, params: { "user" => { invalide_magueule } }
      assigns(:user).should eq(@user)      
    end
    
    it "does not change @user's attributes" do
      put :update, id: @user, params: { "user" => { invalide_magueule } }
      @user.reload
      @user.firstname.should_not eq("Jean")
      @user.lastname.should eq("Bon")
    end
    
    it "re-renders the edit method" do
      put :update, id: @user, params: { "user" => { invalide_magueule } }
      response.should render_template :edit
    end
  end
end</code></pre>



<h4>3.2.7. <code>#destroy</code></h4>
<p>Enfin, la m√©thode destroy, qui doit d√©truire ta ressource :</p>

<pre><code class="language-ruby">describe 'DELETE destroy' do
  before :each do
    @user = User.create
  end
  
  it "deletes the user" do
    expect{
      delete :destroy, id: @user        
    }.to change(User, :count).by(-1)
  end
    
  it "redirects to users#index" do
    delete :destroy, id: @user
    response.should redirect_to contacts_url
  end
end</code></pre>

<h2>4. Points importants √† retenir</h2>
<p>Les controllers se ressemblant en g√©n√©ral beaucoup, les tests de controllers sont assez souvent les m√™mes. Inspire-toi des exemples ci-haut pour faire tes tests de controllers/</p>

<h2>5. Pour aller plus loin</h2>
<p>Les controllers servent aussi √† rediriger. Par exemple si tu utilisateur n'est pas login, il fera un redirect sur la page d'accueil. Il te faudra aussi tester √ßa ;)</p>

          </div>
        </div>
        </div>
      </div>
    </div>
  </div>
</div>


  <div class="container">
  <div class="row">
    <div class="col-12">
      <div class="card">
        <div class="card-header" style="border-top: 3px solid #FF4081 " >
          <h1>Projet : The Gossip Project : Full CRUD</h1>
          <a class="heading-elements-toggle">
          <i class="la la-ellipsis-v font-medium-3"></i>
          </a>
          <div class="heading-elements">
            <ul class="list-inline mb-0">
              <li><a data-action="collapse"><i class="ft-minus"></i></a></li>
              <li><a data-action="expand"><i class="ft-maximize"></i></a></li>
            </ul>
          </div> 
      </div>
      <div class="card-content collapse show">
        <div class="card-body">
          <div class="tab-pane active" id="home1" role="tabpanel">
          
<h2>1. Introduction</h2>
<p>Dans ce projet, tu vas faire ton premier CRUD entier en Rails. Je sais pas si tu te rends compte de ce que √ßa repr√©sente¬†: le CRUD sur une ressource, c'est la base de tout site web¬†! Et d'ici ce soir, t'en auras fait un¬†: Pwaaaa¬†! C'est ouf¬†!</p>

<p>Pour avoir une vision compl√®te, nous allons travailler sur les potins en acceptant toutes les actions du CRUD¬†: on va les cr√©er, les afficher, les modifier et les supprimer. Et puisqu'√† THP on aime bien te pousser √† fond, on va m√™me te demander d'impl√©menter une partie de CRUD sur les commentaires de potins. De la bombe üí£.</p>

<p>‚ö†Ô∏è<strong>Bonnes pratiques</strong> ‚ö†Ô∏è¬†: nous te conseillons de faire des commits √† chaque sous-chapitre de cet exercice. Ainsi, si jamais tu veux tester quelque chose, tu peux √©crire ton code et l'ex√©cuter quitte √† faire un <code>git reset --hard</code> pour revenir au commit pr√©c√©dent. Tr√®s pratique pour repartir de la derni√®re √©tape fonctionnelle quand tu as un truc qui merde üí©</p>


<h2>2. Le projet</h2>
<p>Voici ce qui t'attend dans le projet du jour :</p>

<ul>
  <li>On va repartir du projet d'hier ‚úå</li>
  <li>On va utiliser Bootstrap pour lui donner un peu de pep's</li>
  <li>Nous allons faire la page potin (affichage d'un potin), la page utilisateur et la page ville</li>
  <li>Nous allons faire l'√©dition des potins</li>
  <li>Nous allons faire en sorte qu'il soit possible de supprimer un potin √† partir de la page potin</li>
  <li>Nous allons int√©grer et afficher les commentaires de potins</li>
  <li>Et que serait une application sans des tests robustes¬†? Nous allons mettre des tests de controllers.</li>
</ul>

<p>Inutile de te rappeler que toutes tes routes doivent √™tre en mode REST¬†: l'usage de <code>resources</code> est ici <b>obligatoire</b>.</p>

<p>Allez, c'est parti¬†! Commence par reprendre ton projet d'hier.</p>

<h3>2.1. Un joli front¬†?</h3>
<p>Maintenant que tu as fait tes premi√®res pages, et que tu sais qu'on peut faire du Bootstrap avec un simple CDN, nous allons faire en sorte que notre site ressemble √† quelque chose de potable. Assure-toi que ton projet d'hier soit bien connect√© <a href="https://getbootstrap.com/docs/4.2/getting-started/introduction/">au CDN de Bootstrap</a>. <br>
Maintenant, balade-toi sur les <a href="https://getbootstrap.com/docs/4.0/examples/" target="_blank">pages d'exemples Bootstrap</a> et quand tu vois un √©l√©ment que tu veux utiliser pour ton Gossip Project, regarde le code source de la page et r√©cup√®re le nom des classes utilis√©es pour le construire. Quelques suggestions du chef¬†: </p>
<ul>
  <li><a href="https://getbootstrap.com/docs/4.0/examples/jumbotron/" target="_blank">Jumbotron</a> est une bonne base pour le haut de ta page d'accueil</li>
  <li>Tu peux afficher l'index des gossip <a href="https://getbootstrap.com/docs/4.2/components/list-group/#custom-content" target="_blank">sous forme d'une liste Bootstrap</a></li>
  <li>Un autre exemple est celui <a href="https://www.w3schools.com/bootstrap/tryit.asp?filename=trybs_temp_social&stacked=h" target="_blank">Social Media</a> de W3Schools.</li>
</ul>
<p>Pour le front, fais comme tu le sens avec le double objectif est que 1) le rendu soit pr√©sentable, et 2) tu n'y passes pas trop de temps. Le front, si on se laisse prendre au jeu, on peut y passer un temps infini et la le√ßon du jour, c'est de faire un back-end CRUD¬†!</p>


<h3>2.2. C'est bon¬†? T'es chaud¬†?</h3>
<p>Allez on se lance. On va te donner les directives pour chaque morceau du CRUD, mais on te laisse tout coder. Il faudra ne pas h√©siter √† te rapporter aux cours des 2 journ√©es pr√©c√©dentes pour 1) faire des routes propres, 2) faire des controllers avec les bonnes m√©thodes CRUD et 3) afficher les informations dans les views.</p>
<p>Let's GO¬†!</p>
<h4>2.2.1. Hot Gossip</h4>
<p>L'objectif de cette partie est que tu cr√©es la page potin (la page show qui affiche un potin sp√©cifique). C‚Äôest-√†-dire que quand tu tapes l'URL <code>/gossips/3</code>, tu arrives sur la page affichant le contenu du potin portant l'ID 3. La page potin doit afficher :</p>

<ul>
  <li>Son titre</li>
  <li>Son contenu</li>
  <li>Son auteur</li>
  <li>La ville de l'auteur</li>
</ul>

<p>√Ä partir de la page d'accueil, qui contient l'index des potins, chaque potin doit √™tre accompagn√© d'un lien pointant vers sa propre page.</p>

<h4>2.2.2. Hot user</h4>
<p>L'objectif de cette partie est de faire de m√™me pour la page utilisateur. Cette page doit afficher :</p>

<ul>
  <li>Son pr√©nom</li>
  <li>Son nom</li>
  <li>Sa description</li>
  <li>Son e-mail</li>
  <li>Son age</li>
  <li>Le nom de sa ville</li>
</ul>

<p>Sur la page show d'un potin, l'utilisateur doit pouvoir en savoir plus sur l'auteur du potin en question. Il doit y avoir un lien vers la page show de l'auteur.</p>

<h4>2.2.3. Hot city</h4>
<p>Allez, derni√®re page show¬†: la page pour afficher le d√©tail d'une ville. Cette page devra afficher :</p>

<ul>
  <li>Le nom de la ville</li>
  <li>Les potins √©crits par les utilisateurs associ√©s √† la ville en question (faire une liste comme celle de la page d'accueil)</li>
</ul>

<p>La page ville doit √™tre accessible depuis la page utilisateur (lien vers la ville de l'utilisateur) et depuis la page potin (lien vers la ville de l'auteur).</p>

<h3>2.3. Edit / Update</h3>
<p>Maintenant nous allons faire en sorte de pouvoir √©diter les potins üôå</p>

<p>Pour ceci, nous allons faire une page <code>/gossips/:id/edit</code> qui affichera un formulaire pour √©diter le potin. Ce formulaire devra pointer vers la m√©thode <code>#update</code> qui aura pour r√¥le d'actualiser le potin en BDD. Comme pour la m√©thode <code>#create</code>, cette m√©thode a des conventions bien pr√©cises qui ressemblent √† ceci :</p>

<pre><code class="language-ruby">def update
  @model = Model.find(params[:id])
  if @model.update(tes_params)
    redirect_to @model
  else
    render :edit
  end
end</code></pre>

<p>Si tu sors de ces clous, tu as presque 100¬†% de chances de te gourer (la seule exception √©tant la possibilit√© d'afficher une alerte du genre "Potin bien mis √† jour¬†!").</p>

<p><b>Astuce :</b> essaye de pr√©-remplir les champs du formulaire d'√©dition avec les informations du potin. Ainsi, l'utilisateur n'a qu'√† changer les quelques infos qu'il souhaite : pas besoin de tout retaper.</p>


<h3>2.4. D√©truire</h3>
<p>√Ä partir de la page potin, il est possible de d√©truire le potin avec un lien pour le faire. Impl√©mente cette fonctionnalit√©. Apr√®s avoir d√©truit le potin, l'utilisateur doit √™tre redirig√© vers l'index des potins.</p>

<h3>2.5. Les commentaires de potins</h3>

<p>Ce site de gossips ne serait pas complet sans une section de commentaires o√π les gens pourraient commenter les ragots des moussaillons. Nous allons donc ajouter une fonctionnalit√© de commentaires √† nos chers gossips.</p>
<p>Ci-dessous on te d√©taille ce qu'on attend de toi.</p>


<h4>2.5.1. Cr√©ation</h4>
<p>Un commentaire peut √™tre ajout√© √† un potin uniquement depuis sa page show. La page contiendra donc un formulaire pour renseigner le texte du commentaire. Tout comme pour les potins, nous allons assigner le commentaire √† notre utilisateur fant√¥me.</p>

<p>La page show du gossip affichera tous les commentaires li√©s √† ce gossip, dans l'ordre que tu veux. Pour chaque commentaire, on pourra lire son auteur, son texte, et on disposera d'un lien pour le modifier.</p>

<h4>2.5.2. Modification et destroy</h4>
<p>Cr√©√© le page edit du commentaire (page pour le modifier). <br>
Cette page permettra √©galement de d√©truire le commentaire via un bouton.</p>

<h4>2.5.3. Compter les commentaires</h4>
<p>Dans la page d'index, chaque potin affiche le nombre de commentaires qui lui sont li√©s.</p>

<h3>2.6. Tests¬†!</h3>
<p>C'est l'heure des tests¬†! Parmi toutes les m√©thodes de controller que tu as cod√©es aujourd'hui, choisis-en au moins 2 et √©cris leurs tests. √âcris √©galement des tests pour les vues concern√©es.</p>

<h3>2.7. Les tags - BONUS</h3>
<p>Allez, dernier exercice de la journ√©e. Nous allons coder le fait de pouvoir ajouter un tag √† la cr√©ation du potin. Pour ceci, voici comment tu vas faire :</p>

<ul>
  <li>Dans ton seed, tu vas cr√©er une dizaine de tags sympathiques.</li>
  <li>Dans ton formulaire de cr√©ation de potin, tu vas ajouter un select form o√π tu pourras s√©lectionner un tag parmi tous les tags que tu as en base. Deux options pour √ßa¬†: soit tu le <a href="https://www.w3schools.com/tags/tryit.asp?filename=tryhtml5_select_form" target="_blank">construis toi-m√™me en HTML</a>, soit tu utilises le helper <a href="https://apidock.com/rails/ActionView/Helpers/FormTagHelper/select_tag" target="_blank">select_tag (li√© √† un form_tag)</a>.</li>
  <li>C'est le controller qui devra mettre √† disposition de la view un array contenant tous les tags existant(n'h√©site pas √† aller voir des exemples sur Stack Overflow).</li>
  <li><b>GOD MODE</b>¬†: si tu veux pouvoir ajouter plusieurs tags √† un potin, n'h√©site pas √† regarder le concept des <i>nested forms</i></li>
</ul>

<p>Une fois que tu as rajout√© cette fonctionnalit√© √† la cr√©ation d'un potin, ajoute-la aussi lors de l'√©dition du potin .</p>

<h2>3. Rendu attendu</h2>
<p>Un Gossip Project qui commence √† avoir de la gueule¬†!</p>
          </div>
        </div>
        </div>
      </div>
    </div>
  </div>
</div>



</div>


  </div>
</div>
    <script src="/packs/dashboard-031178fac0de4f91cbcc.js"></script>
    

    <script charset="utf-8">
      $('input[name=authenticity_token]').val($('meta[name=csrf-token]').attr('content'));
    </script>

  </body>
</html>
