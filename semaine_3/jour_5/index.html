<!DOCTYPE html>
<html class="loading" lang="fr">
  <head>
 <head>
    <meta charset="utf-8">
    <link rel="stylesheet" type="text/css" href="../../style/bootstrap.css">
    <title>The hacking project offline</title>
  </head>
  <body class="vertical-layout vertical-menu 2-columns  menu-expanded fixed-navbar" data-open="click" data-menu="vertical-menu" data-color="bg-gradient-x-primary-blue" data-col="2-columns">
      <nav class="navbar navbar-expand-lg navbar-dark bg-primary">
        <h1 class="navbar-brand">THE HACKING PROJECT</h1>
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarColor01" aria-controls="navbarColor01" aria-expanded="false" aria-label="Toggle navigation">
          <span class="navbar-toggler-icon"></span>
        </button>

        <div class="collapse navbar-collapse" id="navbarColor01">
          <ul class="navbar-nav mr-auto">
            <li class="nav-item active">
              <a class="nav-link" href="../../">Home</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="../../features">Features</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="../../about">About</a>
            </li>
          </ul>
          <form class="form-inline my-2 my-lg-0">
            <input class="form-control mr-sm-2" type="text" placeholder="Search">
            <button class="btn btn-secondary my-2 my-sm-0" type="submit">Search</button>
          </form>
        </div>
      </nav>
<div class="container">
    <a type="button" class="btn btn-dark" href="../../semaine_1/">Semaine 1</a>
    <a type="button" class="btn btn-dark" href="../../semaine_2/">Semaine 2</a>
    <a type="button" class="btn btn-dark btn-lg" href="../../semaine_3/">Semaine 3</a>
    <a type="button" class="btn btn-dark" href="../../semaine_4/">Semaine 4</a>
    <a type="button" class="btn btn-dark" href="../../semaine_5/">Semaine 5</a>  
</div>
<div class="app-content content">
  <div class="content-wrapper">
    <div class="content-wrapper-before"></div>
    <div class="content-header row"></div>
    
      <div class="container">
    <div class="card">
  <div class="card-header">
    <h4 class="text-center"> Programme jour par jour</h4>
  </div>
  <div class="card-body">
    <div class="text-center">
    <a href="../../semaine_3">
      <button class="btn btn-secondary btn-outline-dark btn mr-4">
        <i class="fa fa-terminal"></i>&nbsp;&nbsp;&nbsp;Lun
      </button>
</a>    <a href="../../semaine_3/jour_2">
      <button class="btn btn-secondary btn-outline-dark btn mr-4">
        <i class="fa fa-code"></i>&nbsp;&nbsp;&nbsp;Mar
      </button>
</a>    <a href="../../semaine_3/jour_3">
      <button class="btn btn-secondary btn-outline-dark btn mr-4">
        <i class="fa fa-desktop"></i>&nbsp;&nbsp;&nbsp;Mer
      </button>
</a>    <a href="../../semaine_3/jour_4">
      <button class="btn btn-secondary btn-outline-dark btn mr-4">
      <i class="fa fa-folder-open"></i>&nbsp;&nbsp;&nbsp;Jeu
      </button>
</a>    <a href="../../semaine_3/jour_5">
      <button class="btn btn-secondary btn-outline-dark btn-lg mr-4">
      <i class="fa fa-bullhorn"></i>&nbsp;&nbsp;&nbsp;Ven
      </button>
</a>    </div>
  </div>
</div>


<div class="app-content content">
  <div class="content-wrapper">
    <div class="content-wrapper-before"></div>
    <div class="content-header row"></div>
    
      
<div class="content-body">
      <h2 class="text-center">Envoyer des emails</h2>
      <h4 class="text-center">Programmation Orientée Objet</h4>
  <div class="row">
     <div class="col-xl-3 col-lg-6 col-md-12">
  <div class="card">
    <div class="card-content">
      <div class="card-body">
        <div class="media d-flex">
          <div class="align-self-top">
              <i class="ft-calendar icon-opacity info font-large-4"></i>
          </div>
          <div class="media-body text-right align-self-bottom mt-3">
              <span class="d-block mb-1 font-medium-1"></span>
              <h3 class="info mb-0">
                 Jour 24 / 55</h3>
          </div>
        </div>
        <div class="progress progress-sm mt-1 mb-0 box-shadow-2">
            <div class="progress-bar bg-gradient-x-info" role="progressbar" style="width: 43%" aria-valuenow="25" aria-valuemin="0" aria-valuemax="120">
            </div>
        </div>
      </div>
    </div>
  </div>
 </div>


    <div class="col-xl-3 col-lg-6 col-md-12">
  <div class="card">
    <div class="card-content">
      <div class="card-body">
        <div class="media d-flex">
          <div class="align-self-top">
            <i class="ft-heart icon-opacity danger font-large-4"></i>
          </div>
          <div class="media-body text-right align-self-bottom mt-3">
            <span class="d-block mb-1 font-medium-1">Jokers restant</span>
            <h3 class="danger mb-0">
                3
            </h3>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

    <div class="col-xl-3 col-lg-6 col-md-12">
    <div class="card">
        <div class="card-content">
            <div class="card-body">
                <div class="media d-flex">
                    <div class="align-self-top">
                        <a href="/dashboard/assignments?locale=fr">
                           <i class="ft-fast-forward icon-opacity warning font-large-4"></i>
</a>                    </div>
                    <div class="media-body text-right align-self-bottom mt-3">
                        <span class="d-block mb-1 font-medium-1">Missions</span>
                            <div class="badge border-danger danger badge-border">Pas inscrit</div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

  </div>
  <div class="row">
        <div class="container">
    <div class="col-xl-12 col-lg-12 col-md-12">
    <div class="card">
        <div class="card-header">
        <h1 >Programmation Orientée Objet
                <i class="fa fa-beer text-warning"></i>
        </h1>
        
        </div>
        <div class="card-content">
        <div class="card-body">
            <div class="card-text">
            <h2 class="text-center">Envoyer des emails</h2>
            <div class="cd-horizontal-timeline loaded">
                <div class="timeline">
                <div class="events-wrapper">
                    <div class="events" style="width: 1800px;">
                    <ol>
                                <li>
                                    <a style="left:120px;" href="/dashboard/weeks/3/days/1?locale=fr">
                                        Lun
                                            <i class="fa fa-beer text-warning" aria-hidden="true" data-toggle="tooltip" data-placement="bottom" title="Rendez-vous pour boire un coup"></i>

</a>                                </li>
                                <li>
                                    <a style="left:240px;" href="/dashboard/weeks/3/days/2?locale=fr">
                                        Mar
                                            <i class="fa fa-rocket text-danger" aria-hidden="true" data-toggle="tooltip" data-placement="bottom" title="Projet à rendre ce jour-là"></i>

</a>                                </li>
                                <li>
                                    <a style="left:360px;" href="/dashboard/weeks/3/days/3?locale=fr">
                                        Mer
                                            <i class="fa fa-pencil text-success" aria-hidden="true" data-toggle="tooltip" data-placement="bottom" title="Corrections cette journée là" ></i>


</a>                                </li>
                                <li>
                                    <a style="left:480px;" href="/dashboard/weeks/3/days/4?locale=fr">
                                        Jeu
                                            <i class="fa fa-rocket text-danger" aria-hidden="true" data-toggle="tooltip" data-placement="bottom" title="Projet à rendre ce jour-là"></i>

</a>                                </li>
                            <li>
                                <a class="selected" style="left:600px;" data-toggle="tooltip" data-placement="top" title="Envoyer des emails" href="/dashboard/weeks/3/days/5?locale=fr">
                                    Ven
                                        <i class="fa fa-pencil text-success" aria-hidden="true" data-toggle="tooltip" data-placement="bottom" title="Corrections cette journée là" ></i>


</a>                                </li>
                    </ol>
                </div>
                </div>
            </div>
            </div>
        </div>
        </div>
    </div>
    </div>
<div>
  </div>

  <!-- Les fameuses corrections qui n'arrivnet que les jours concernés -->


    <div class="container">
  <div class="row">
    <div class="col-12">
      <div class="card">
        <div class="card-header" style="border-top: 3px solid #5E66E5 " >
          <h1>Cours : Git branch et merge</h1>
          <a class="heading-elements-toggle">
          <i class="la la-ellipsis-v font-medium-3"></i>
          </a>
          <div class="heading-elements">
            <ul class="list-inline mb-0">
              <li><a data-action="collapse"><i class="ft-minus"></i></a></li>
              <li><a data-action="expand"><i class="ft-maximize"></i></a></li>
            </ul>
          </div> 
      </div>
      <div class="card-content collapse show">
        <div class="card-body">
          <div class="tab-pane active" id="home1" role="tabpanel">
          <h2>1. Introduction</h2>
<p>Tu dois commencer à être plutôt à l'aise avec Git après 3 semaines, mais sache que tu n'utilises qu'une partie de ses fonctionnalités ! Pour le moment, Git te sert surtout à 1) sauvegarder ton travail pour éventuellement revenir à un état antérieur de ton code et 2) push ton boulot sur GitHub pour le rendre disponible à d'autres personnes (ton binôme de pair-programming ou tes correcteurs). Mais la vraie puissance de Git réside ailleurs …</p>
<p>Prenons l'exemple d'un programme informatique sur lequel <b>plusieurs personnes travaillent en même temps</b> : par exemple notre super scrappeur de l'autre jour. Pendant que Jean ajoute la fonctionnalité "<i>faire tourner le programme toutes les heures</i>" sur la partie cryptomonnaies, Marie travaille sur le scrappeur des e-mails de mairies. Chacun fait le taff sur son ordi mais à un moment donné, il va falloir fusionner les modifications (= des lignes de code ont été enlevées ou rajoutées). Vu qu'on parle de parties de code assez indépendantes, tu n'es pas étonné que Git soit capable de gérer cette fusion en comparant un "avant le passage de Marie/Jean" et un "après leur passage". <br>
Maintenant imagine qu'un 3ème larron, Paula, décide de travailler aussi sur la partie crypto en rajoutant une fonctionnalité "<i>affichage du total_market_valuation</i>". Deux personnes travaillent en même temps sur le même fichier, chacun sur leur ordi et voudront ensuite push leurs modifications sur GitHub sans que le travail de l'un n'écrase celui de l'autre ! Si ça n'est pas l'enfer, ça y ressemble pas mal 😱. Pourtant, en entreprise, ce cas de figure arrive tous les jours.</p>


<p>Heureusement, Git est là pour sauver la mise : il dispose de deux fonctionnalités qui permettent de faire cela sans se casser la MOINDRE dent:</p>
<ul>
  <li><b>La création de branche (<code>branch</code>)</b> : cela va permettre à un collaborateur d'isoler son travail pour mieux le fusionner ensuite ;</li>
  <li><b>La fusion de 2 branches(<code>merge</code>)</b> : cela va permettre de prendre la branche contenant une nouvelle fonctionnalité et de rapatrier toutes les modifications qu'elle contient (ajouts et suppressions) sur la branche principale (celle qui contient tout le code à jour).</li>
</ul>


<h2>2. Historique</h2>
<p>Git est un logiciel créé par Linus Torvalds (le fondateur de Linux) en 2005. Les fonctionnalités de branches et de merge sont en grande partie responsables de son succès auprès des développeurs. Aujourd'hui, Git est l'outil de référence pour travailler à plusieurs sur du code.</p>

<h2>3. La ressource</h2>

<h3>3.1. Créer une branche</h3>
<p>Une branche, c'est une version de ton code copiée à un instant T et qui va "vivre" en parallèle de la branche principale (appelée <code>master</code> par convention) jusqu'à être fusionnée à nouveau dans cette dernière.</p>
<p>L'objectif, quand on crée une branche Git sur notre programme, c'est de permettre à un développeur de travailler sur le code en toute liberté. Il va pouvoir passer toutes les modifications nécessaires, faire des tests, revenir en arrière et faire autant de commit qu'il veut <b>sans jamais interférer avec la branche principale du projet</b>. Cette branche principale est la référence pour toute l'équipe de développement, et c'est son code qui est utilisé au quotidien par les clients de l'entreprise : il est hors de question que tout le monde y mette les mains en même temps et prenne le risque d'introduire un bug voire de tout péter !</p>

<p>Illustrons le work-flow type, entre développeurs travaillant sur un même programme, avec l'exemple du projet Google. Les moussaillons se sont réparti le travail : Jean va créer une branche nommée <i>popup_alert</i> et Marie une branche nommée <i>grid</i> sur lesquels ils vont travailler de manière indépendante. Une fois que chacun a fini de coder et a pu tester son taff, ils vont fusionner leur branches avec la branche principale : ça y est, le boulot est livré !</p>

<p>Voici l'ordre des lignes de commandes à connaître pour manipuler les branches :</p>
<ol>
  <li><code>$ git checkout master</code> : pour s'assurer qu'on est bien sur la branche <code>master</code> sur son ordi.</li>
  <li><code>$ git pull origin master</code> : pour récupérer de GitHub la dernière version de <code>master</code>.</li>
  <li><code>$ git branch nom_de_ta_feature</code> : pour créer une branche nommée "nom_de_ta_feature" à partir de <code>master</code> qui est désormais à jour.</li>
  <li><code>$ git checkout nom_de_ta_feature</code> : pour se positionner sur la branche "nom_de_ta_feature".</li>
  <li>à partir de là, on se met à coder normalement. Chaque commit aura lieu uniquement sur la branche "nom_de_ta_feature". Pour cela, on utilise les classiques :
    <ul>
      <li><code>$ git add .</code> pour préparer à commit tous les fichiers ayant été modifiés</li>
      <li><code>$ git commit -m "commentaire sur mon commit"</code> pour faire un commit</li>
    </ul></li>
</ol>

<h3>3.2. Fusionner une branche</h3>
<p>Quand le travail sur ta branche est terminé (c’est-à-dire <b>testé et fonctionnel</b>), il te faut le livrer en la fusionnant à la branche principale. Or, si on imagine que tu as mis 3 jours à coder tout ça, tu imagines bien que tes potes moussaillons ne se sont pas tourné les pouces pendant ce temps. La branche principale a donc évolué depuis que tu as créé ta branche personnelle "nom_de_ta_feature" et il ne faudrait pas qu'en fusionnant ton code (qui contient un mélange de vieux code et tes nouvelles fonctionnalités), tu écrases tout le super travail de tes collègues. Heureusement, Git est capable d'identifier les modifications qui ont eu lieu depuis la création de ta branche et les modifications que toi tu as apporté sur 3 jours… mais avec ses limites. <br>
Parfois, Git va identifier une ligne de code qui a subit des modifications contradictoires : Jean et Marie ont tous les deux voulu changer la même ligne mais avec un résultat différent. Git va alors identifier un <b>conflit</b> qu'il va falloir résoudre. On va te présenter tout ça.</p>

<h5>2.1. Fusionner</h5>
<p>Pour fusionner la branche contenant ton travail, voici la marche à suivre, étape par étape : </p>
<ol>
  <li><code>$ git checkout master</code> : tu te remets sur la branche master en vue de la mettre à jour (ça fait 3 jours que tu ne l'as pas fait) ;</li>
  <li><code>$ git pull origin master</code> : tu récupères de GitHub tout le travail qui a été effectué et mets la branche master à jour ;</li>
  <li><code>$ git checkout nom_de_ta_feature</code> : tu te remets sur ta branche de feature en vue de la fusionner ;</li>
  <li><code>$ git merge master</code> : cette commande demande à Git de <b>fusionner <code>master</code> dans ta branche</b>. L'ordre est important : c'est master qui va DANS ta branche et pas l'inverse. La branche master n'est pas modifiée pour le moment.
    <ul>
      <li><i>optionnel</i> : gestion de conflits (voir plus loin)</li>
    </ul></li>
  <li><code>$ git checkout master</code> : tu te remets sur master</li>
  <li><code>$ git merge nom_de_ta_feature</code> : cette fois, on fait la fusion dans l'autre sens. On fusionne ta branche DANS master. La branche master est donc mise à jour.</li>
    <ul>
      <li><i>optionnel</i> : gestion de conflits (voir plus loin)</li>
    </ul></li>
  <li><code>$ git push origin master</code> : Maintenant que la fusion est faite, il faut mettre GitHub à jour pour que tous tes collègues aient l'info. Donc envoie la branche à jour sur Github 🙌</li>
</ol>

  <div class="card box-shadow-0 border-info">
  <div class="card-content collapse show">
    <div class="card-body">
      <h4 class="card-title">🤓 QUESTION RÉCURRENTE</h4>
      <p class="card-text"><b>Mais Féfé, pourquoi on fait deux merge et pas juste un ?</b> C'est pas overkill de d'abord merge <code>master</code> dans la branche <code>nom_de_ta_feature</code> PUIS de faire l'inverse en re-fusionnant <code>nom_de_ta_feature</code> dans <code>master</code> ?</p>
      <p>=> Disons que c'est une sécurité supplémentaire et une bonne pratique. Une première fusion de <code>master</code> vers ta branche permet de gérer 80 % des conflits <b>sans altérer <code>master</code></b>. Cette branche est utilisée par tout le monde (tes collègues et les clients) on te rappelle. Tu ne veux vraiment pas la pourrir par erreur.</p>
      <p>Une fois que t'as réglé une bonne partie des conflits et que la fusion s'est bien passée dans un sens, tu peux enfin modifier <code>master</code> plus sereinement : ça passera crème.</p>
    </div>
  </div>
</div>

<h5>2.2. Gérer les conflits</h5>
<p>Que se passe-t-il s'il y a des conflits à gérer ? Bah en soit pas grand-chose : juste quelques fichiers à changer et c'est tout 😊 Si jamais tu as un conflit, tu devrais avoir un message comme celui-là dans ton terminal, juste après un <code>git merge</code> :</p>

<pre><code class="language-shell">$ git merge master
Auto-merging foo.rb
CONFLICT (content): Merge conflict in foo.rb
CONFLICT (content): Merge conflict in bar.rb
Automatic merge failed; fix conflicts and then commit the result.
</code></pre>

<p>Il te faut aller dans les fichiers identifiés par les lignes <code>CONFLICT (content)</code> et tu verras alors que Git les a modifiés en rajoutant des balises comme ceci :</p>
<pre><code class="language-shell"><<<<<<<<< HEAD
p "Kikou !" #version de code A
============
p "Hello !" #version de code B
>>>>>>>>> la_branche
</code></pre>

<p>Ces balises te présentent les 2 versions de code entre lesquelles Git ne sait pas arbitrer. C'est à toi de savoir s'il faut garder celle du haut ou celle du bas : n'hésite pas à faire appel à la personne ayant codé l'autre ligne avant de tailler dans le vif comme un bourrin !</p>
<p><b>Surtout, soit très rigoureux et n'oublie aucune balise !</b> Vu qu'elles sont au milieu de ton code, si tu en laisses, il va buguer très fort. Enlève bien sûr les <code>============</code>, <code>"><<<<<<<<< HEAD</code> et <code>>>>>>>>>> la_branche</code>.</p>

<p>Une fois que tu auras conservé la partie qui t'intéresse, il faudra faire les commandes suivantes pour valider la résolution de tes conflits : </p>

<ul>
  <li><code>$ git add .</code> : ajoute les fichiers à commit</li>
  <li><code>$ git commit</code> (sans le <code>-m "commentaire"</code>) : pour commiter les changements
    <ul>
      <li>À ce moment-là, le programme devrait envoyer un message chelou pour te demander de rajouter un commentaire et nommer ton conflit. Pas besoin de le gérer, tu peux quitter le programme en faisant <code>:x</code> puis <code>Enter</code> (la fenêtre qui s'est ouverte est un équivalent de Vim/Nano, donc pour quitter c'est comme dans ces softs 😎)</li>
    </ul></li>
</ul>


<h2>4. Points importants à retenir</h2>

<p>Pour coder à plusieurs sur un même programme, les règles de bonne gestion (appliquées par toutes les start-ups modernes) sont les suivantes :</p>
<ul>
  <li>On ne travaille JAMAIS directement sur la branche <code>master</code> ;</li>
  <li>Quand un développeur code, il travaille sur une fonctionnalité <b>précise</b> et doit donc créer une branche dédiée à ce travail. Elle doit porter un nom en lien avec la fonctionnalité (pas le nom du développeur !). Ex : <code>scrapping_every_hour</code> ou <code>show_total_market_valuation</code> ;</li>
  <li>On livre la fonctionnalité en fusionnant la branche dans <code>master</code> (en 2 merge, cf. ci-dessous);</li>
  <li>Une fois la branche fusionnée, le développeur peut la supprimer de son ordinateur.</li>
</ul>

<p>Voici un résumé des commandes pratiques à utiliser pour manipuler les branches : </p>
<ul>
  <li><code>$ git branch</code> : affiche toutes les branches de ton repo Git, puis t'indique sur laquelle tu es actuellement</li>
  <li><code>$ git branch nom_de_ta_feature</code> : créé une branche portant pour nom  "nom_de_ta_feature"</li>
  <li><code>$ git checkout nom_de_ta_branche</code> : se positionne sur la branche qui s'appelle "nom_de_ta_branche"</li>
  <li><code>$ git merge nom_de_ta_branche</code> : fusionne la branche "n"om_de_ta_branche" VERS la branche sur laquelle tu te trouves actuellement. Seule la branche <b>sur laquelle tu te trouves</b> sera altérée (pas l'autre).</li>
</ul>

<p>Enfin, si tu ne devais retenir qu'un seul truc de la leçon, voici les étapes de la gestion/fusion de branche. Si tu suis cette démarche, tu ne devrais pas avoir de souci 😉.</p>
<ol>
  <li>Se positionner sur master : <code>$ git checkout master</code></li>
  <li>Mettre à jour master sur son ordi : <code>$ git pull origin master</code></li>
  <li>Créer une branche, depuis master, pour travailler : <code>$ git branch nom_de_ta_feature</code></li>
  <li>Se placer sur cette branche : <code>$ git checkout nom_de_ta_feature</code>   <br>
  À partir de là, tu peux travailler sur ta branche OKLM, repasser d'une branche à l'autre avec <code>git checkout</code>, tout en n'oubliant pas de faire des commits (<code>git add .</code> et <code>$ git commit -m "this is what i did"</code>)</li>
  <li>Fusionner sa branche dans master (en 2 étapes de merge) :
    <ul>
      <li><code>$ git checkout master</code></li>
      <li><code>$ git pull origin master</code></li>
      <li><code>$ git checkout nom_de_ta_feature</code></li>
      <li><code>$ git merge master</code> + gérer les conflits si besoin</li>
      <li><code>$ git checkout master</code></li>
      <li><code>$ git merge nom_de_ta_feature</code> + gérer les conflits si besoin</li>
      <li><code>$ git push origin master</code></li>
    </ul></li>
</ol>


<h2>5. Pour aller plus loin</h2>

<p>Pour aller plus loin, le cours <a href="https://openclassrooms.com/courses/gerer-son-code-avec-git-et-github" target="_blank">Git/Github de Marc Gauthier sur OpenClassrooms</a> est l'un des meilleurs qui existe, et les trois parties sur les branches / fusions / conflits sont assez complémentaires à ce cours :
<ul>
  <li>La partie sur <a href="https://openclassrooms.com/courses/gerer-son-code-avec-git-et-github/creer-des-branches" target="_blank">les branches</a></li>
  <li>La partie sur <a href="https://openclassrooms.com/courses/gerer-son-code-avec-git-et-github/fusionner-des-branches" target="_blank">les fusions</a></li>
  <li>La partie sur <a href="https://openclassrooms.com/courses/gerer-son-code-avec-git-et-github/resoudre-un-conflit" target="_blank">les conflits</a></li>
</ul>
<p>Tu peux aussi aller voir <a href="https://www.youtube.com/watch?v=Z9fIBT2NBGY&t=372s">cette vidéo du Wagon</a>, un peu longue mais très complète.</p>
          </div>
        </div>
        </div>
      </div>
    </div>
  </div>
</div>

  <div class="container">
  <div class="row">
    <div class="col-12">
      <div class="card">
        <div class="card-header" style="border-top: 3px solid #5E66E5 " >
          <h1>Cours : Gem Gmail</h1>
          <a class="heading-elements-toggle">
          <i class="la la-ellipsis-v font-medium-3"></i>
          </a>
          <div class="heading-elements">
            <ul class="list-inline mb-0">
              <li><a data-action="collapse"><i class="ft-minus"></i></a></li>
              <li><a data-action="expand"><i class="ft-maximize"></i></a></li>
            </ul>
          </div> 
      </div>
      <div class="card-content collapse show">
        <div class="card-body">
          <div class="tab-pane active" id="home1" role="tabpanel">
          

<h2>1. Introduction</h2>
<p>Dans cette ressource nous allons te présenter rapidement la gem Gmail qui permet d'utiliser le service Gmail de Google via tes programmes. Avec ceci, tu pourras créer des robots qui vont envoyer plein d’e-mails via un compte Gmail.</p>

<h2>2. Historique</h2>
<p>Avec l'essor de Rails, Google a mis à disposition de la communauté Ruby une gem dès 2010 afin de faciliter les échanges avec son API. C'est la preuve que même Google ne peut pas ignorer la super communauté des rubyistes !</p>

<h2>3. La ressource</h2>
<p>Découvre la <a href="https://developers.google.com/gmail/api/quickstart/ruby" target="_blank">gem gmail API</a> en Ruby. La doc de Google explique la marche à suivre pour obtenir une clé d'API et brancher la gem. <br>
Pour envoyer des mails <a href="https://www.rubydoc.info/github/google/google-api-ruby-client/Google/Apis/GmailV1/GmailService#send_user_message-instance_method" target="_blank">la doc est ici</a>.</p>
<p>Cette ressource est volontairement succincte car, en théorie, la documentation de Google doit être auto-porteuse… et il faut que tu prennes l'habitude de lire et comprendre une doc !</p>
<p>Mais on va te donner quand même quelques lignes directrices : </p>
<ul>
  <li>Procède, comme d'hab, par étape: 1) essaie de te login (suis scrupuleusement le quickstart), et 2) envoie un premier e-mail.</li>
  <li>Ne mets pas directement dans ton code ton login et password de compte Gmail (sinon, tu vas te les faire piquer !). Passe par la gem Dotenv qu'on a déjà vu.</li>
  <li>Pour les petits explorateurs de Google, sachez que la gem <a href="https://github.com/gmailgem/gmail">"Gmail for Ruby"</a> n'est plus maintenue et ne fonctionnera bientôt plus. Ne l’utilisez pas.</li>
</ul>
<p>Bon, si tu galères trop avec la doc, on va quand même te donner un exemple de ce qu'il faut obtenir. Le code ci-dessous ne marche que si tu as bien pu faire fonctionner la méthode <code>authorize</code> qui t'es présentée dans le quickstart de Google.</p>
<pre><code code class="language-ruby"># Initialisation de l'API
service = Google::Apis::GmailV1::GmailService.new
service.client_options.application_name = APPLICATION_NAME
service.authorization = authorize

# Création du contenu du message
msg = Mail.new #msg est une instance de la classe « Mail ». On va définir ses variables d’instance
msg.date = Time.now
msg.subject = 'ceci est un test'
msg.body = Text.new('coucou!', 'plain', 'charset' => 'us-ascii')
msg.from = {'coucou@gmail.com' => 'Coucou Man'}
msg.to   = {
    'josé@valdoise.fr' => nil,
}

# Création de la requête, insertion du contenu dans la propriété `raw`
#(https://developers.google.com/gmail/api/v1/reference/users/messages/send)
message = Google::Apis::GmailV1::Message.new(raw: msg.to_s)

service.send_user_message('me', message)</code></pre>

<h2>4. Points importants à retenir</h2>
<p>1 - La <a href="https://developers.google.com/gmail/api/quickstart/ruby" target="_blank">gem gmail</a> te permet d'envoyer des e-mails depuis un compte Gmail.</p>
<p>2 - Les docs d'API, c'est souvent du chinois…</p>

<h2>5. Pour aller plus loin</h2>
<p>Pour le moment pas besoin de plus !</p>
          </div>
        </div>
        </div>
      </div>
    </div>
  </div>
</div>


  <div class="container">
  <div class="row">
    <div class="col-12">
      <div class="card">
        <div class="card-header" style="border-top: 3px solid #FF4081 " >
          <h1>Projet : Envoi d&#39;emails en masse</h1>
          <a class="heading-elements-toggle">
          <i class="la la-ellipsis-v font-medium-3"></i>
          </a>
          <div class="heading-elements">
            <ul class="list-inline mb-0">
              <li><a data-action="collapse"><i class="ft-minus"></i></a></li>
              <li><a data-action="expand"><i class="ft-maximize"></i></a></li>
            </ul>
          </div> 
      </div>
      <div class="card-content collapse show">
        <div class="card-body">
          <div class="tab-pane active" id="home1" role="tabpanel">
          
<h2>1. Introduction</h2>
<p>Dans ce projet tu vas mettre en pratique tes compétences de scrapping, d'enregistrement et d'envoi d’e-mail pour faire une application englobant tout ceci.</p>

<p><a href="https://www.restosducoeur.org/" target="_blank">Les Restos du Cœur</a> sont une super association qui veut aider les gens dans le besoin. Nous trouvons qu'il n'y a pas assez de mairies pour appuyer leur démarche. Nous allons donc te demander de coder un super programme qui renseigne les mairies sur cette association qui œuvre pour changer le monde.</p>

<h2>2. Le projet</h2>



<h3>2.1. Note importante</h3>
<p>Ce projet devra être fait en groupe complet ! C’est-à-dire que ton groupe entier devra participer en équipe au projet et chacun devra contribuer en faisant une partie bien précise. Le projet sera rendu via un repo GitHub commun à l'équipe.</p>

<p>Ce type de projet vous permettra d'apprendre à travailler ensemble. C'est indispensable pour appréhender le monde du travail de développeur et c'est un excellent entraînement pour les projets plus conséquents de la formation. Comme il y a beaucoup à faire, il faudra bien vous répartir les tâches.</p>

<h3>2.2. Résumé du projet</h3>
<p>Ce projet sera un récapitulatif de tout ce que vous avez appris jusqu'à présent : vous allez scrapper, enregistrer dans un spreadsheet, puis envoyer des e-mails. Le tout dans un dossier Ruby bien rangé, en POO.</p>

<p>Le projet consistera en gros à contacter toutes les mairies de France pour que ces dernières parlent des Restos du Cœur. Qui sait, peut-être que grâce à vous on aura les Restos du Cœur dans un village de la Creuse ❤️</p>

<h3>2.3. Le projet, en détails</h3>
<p>Le CEO de Get-Email Corp est vraiment ravi de ton travail. Il souhaite donc monter une équipe de hackers et en faire sa nouvelle filiale:  Send-Email Corp. Celle-ci vient de décrocher un financement public à 300k€ pour promouvoir Les Restos du Cœur. Votre mission est d'envoyer un email à toutes les mairies de trois départements de votre choix et de leur dire qu'ils devraient ouvrir un Resto du Cœur dans leur commune.</p>

<p>⚠️Il est <b>INTERDIT</b> de le faire pour le département du Val d'Oise (ainsi que pour le 75 qui n'a pas assez de mairies). Le but est d'apprendre, pas de copier-coller 😉</p>

<h4>2.3.1. Le scrappeur</h4>
<p>Le programme de scrappeur devra récupérer les emails de trois départements choisis arbitrairement. Puis il devra enregistrer ces emails dans un fichier CSV ou JSON. Pour chaque mairie, il devra y stocker :</p>
<ul>
  <li>Le nom de la commune</li>
  <li>l'email</li>
  <li>Le département (numéro ou nom)</li>
</ul>

<h4>2.3.2. Envoyer les emails</h4>
<p>Le programme d'envoi d'emails va reprendre chaque colonne de ton CSV/JSON et enverra un bel email à la mairie indiquée. Pour ceux qui ont peur d'utiliser leur adresse Gmail perso, vous êtes, bien entendu, libres de créer une adresse fake, par exemple "Théophile Coutaind". Évidemment, on vous conseille de tester les premiers envois d'emails avec des destinataires connus : cela permet de confirmer que le mail arrive bien et s'affiche correctement. ⛵️</p>
<p>N'hésitez pas à tester les envois vers des adresses en <a href="http://www.yopmail.com/">Yopmail.com</a>. Ce site vous permet de créer des adresses emails dont les boites de réception sont accessibles facilement et par tous.</p>

<p>Pour le contenu de l'email, tu peux rédiger un truc simple qui dit un truc du genre : </p>
<pre><code class="language-shell">Bonjour,
Je m'appelle [PRÉNOM] et je permets de contacter la mairie de [CITY_NAME] à propos du remarquable travail que font Les Restos du Coeur. Cette association répand le bien dans la France et aide les plus démunis à s'en tirer.

Avez-vous pensé à travailler avec eux ? Soutenir Les Restos du Coeur, c'est important pour notre cohésion sociale : rejoignez le mouvement !

Merci à vous</code></pre>

<p>Note : si tu préfères parler de ta startup révolutionnaire, de THP, ou plutôt Emmaüs, fais comme tu le sens ! Tant que ce projet vous botte et que vous vous éclatez avec votre équipe ❤</p>

<h4>2.3.3. Dotenv</h4>
<p>Dans ce programme, vous allez manipuler des clés d'API et des login/mots de passe. Ces infos ne doivent JAMAIS être disponibles dans un repository GitHub. Pour ce programme, vous allez devoir passer par Dotenv et bien penser à mettre votre <code>.env</code> dans le gitignore.</p>

<h2>3. Rendu attendu</h2>
<p>Le rendu pour le projet sera un petit peu différent. Tout d'abord, toute l'équipe va devoir travailler sur <b>le même</b> repo GitHub, en faisant des branch, des merge, des pull, toussa.</p>

<p>Pour présenter ton repo GitHub, rédige un joli README expliquant tout ce qui a été fait lors de cette journée de travail :</p>
<ul>
  <li>une introduction présentant de l'équipe, les grandes lignes du programme</li>
  <li>une explication concernant l'arborescence du dossier et l'utilité de tous les programmes</li>
  <li>une partie qui dit comment se servir du programme (<code>$ bundle install)</code>, et quelles sont les gems utilisées</li>
  <li>une explication plus détaillée de ce que vous avez réalisé : l'email envoyé, le nombre de mairies touchées, etc.</li>
</ul>
<p>Il te faudra aussi respecter l'architecture habituelle d'un beau dossier Ruby.</p>

<p>Ce sera un excellent exercice de synthèse : comme tu peux le voir sur Slack, bien se faire comprendre et expliquer ses choix stratégiques est une compétence très utile.</p>
          </div>
        </div>
        </div>
      </div>
    </div>
  </div>
</div>



</div>


  </div>
</div>
    <script src="/packs/dashboard-031178fac0de4f91cbcc.js"></script>
    

    <script charset="utf-8">
      $('input[name=authenticity_token]').val($('meta[name=csrf-token]').attr('content'));
    </script>

  </body>
</html>
